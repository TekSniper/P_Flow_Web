@page
@model P_Flow_Web.Pages.Dash.TableauDeBordModel
@{
    Layout = "_LayoutUser";
    ViewData["title"] = "Tableau de bord";
}
<!--Style du tableau de bord-->
@* <style>
    .columns {
        width: 100%;
        height: 100%;
        margin-left: 0;
    }

    .menu-label {
        color: #8F99A3;
        letter-spacing: 1.3;
        font-weight: 700;
    }

    .menu-list a {
        color: #0F1D38;
        font-size: 22px;
        font-weight: 700;
    }

        .menu-list a:hover {
            background-color: transparent;
            color: #276cda;
        }

        .menu-list a.is-active {
            background-color: transparent;
            color: #276cda;
            font-weight: 700;
        }

    .card {
        box-shadow: 0px 2px 4px rgba(0, 0, 0, 0.18);
        margin-bottom: 2rem;
    }

    .card-header-title {
        color: #8F99A3;
        font-weight: 400;
    }

    .info-tiles {
        margin: 1rem 0;
    }

        .info-tiles .subtitle {
            font-weight: 300;
            color: #8F99A3;
        }

    .hero.welcome.is-info {
        background: #36D1DC;
        background: -webkit-linear-gradient(to right, #5B86E5, #36D1DC);
        background: linear-gradient(to right, #5B86E5, #36D1DC);
    }

    .hero.welcome .title, .hero.welcome .subtitle {
        color: hsl(192, 22%, 99%);
    }

    .card .content {
        font-size: 22px;
    }

    .card-footer-item {
        font-size: 22px;
        font-weight: 700;
        color: #8F99A3;
    }

        .card-footer-item:hover {
        }

    .card-table .table {
        margin-bottom: 0;
    }

    .events-card .card-table {
        max-height: 250px;
        overflow-y: scroll;
    }
     style="background-color:#01637e"
</style> *@
<style>
    .hero.welcome.is-info {
        background: #36D1DC;
        background: -webkit-linear-gradient(to right, #5B86E5, #36D1DC);
        background: linear-gradient(to right, #5B86E5, #36D1DC);
    }
    .hero.welcome .title, .hero.welcome .subtitle {
        color: hsl(192, 22%, 99%);
    }

</style>
<section class="hero is-info welcome is-small">
    <div class="hero-body">
        <div class="container">
            <h1 class="title">
                Salut, @HttpContext.Session.GetString("Login")
            </h1>
            <h2 class="subtitle">
                J'espère que vous passez une bonne journée !
            </h2>
        </div>
    </div>
</section>
<br />
<p class="subtitle has-text-centered has-text-info">Les comptes courants en Franc congolais (CDF)</p>
<section class="info-tiles">
    <div class="tile is-ancestor has-text-centered">
        @* <div class="tile is-parent">
            <article class="tile is-child box">
                <p class="title" style="color:#e60000">439k</p>
                <p class="subtitle">Compte m-pesa</p>
            </article>
        </div>
        <div class="tile is-parent">
            <article class="tile is-child box">
                <p class="title" style="color:#fe6600">59k</p>
                <p class="subtitle">Compte Orange money</p>
            </article>
        </div>
        <div class="tile is-parent">
            <article class="tile is-child box">
                <p class="title" style="color:#e20613">3.4k</p>
                <p class="subtitle">Compte Airtel money</p>
            </article>
        </div>
        <div class="tile is-parent">
            <article class="tile is-child box">
                <p class="title" style="color:#87007b">19</p>
                <p class="subtitle">Compte Afrimoney</p>
            </article>
        </div> *@


        <!-- Parcourir la liste des comptes -->
        @foreach(var compte in Model.list_comptes)
        {
            @if(compte.Devise == "CDF")
            {
                @switch (compte.CodeReseau)
                {
                    case "VDC":
                        {
                            <div class="tile is-parent">
                                <article class="tile is-child box">
                                    <p class="title" style="color:#e60000; font-size:22px">@compte.Solde.ToString("##,##.##")&nbsp;@compte.Devise</p>
                                    <p class="subtitle">@compte.Intitule</p>
                                </article>
                            </div>
                        }
                        break;
                    case "ORG":
                        {
                            <div class="tile is-parent">
                                <article class="tile is-child box">
                                    <p class="title" style="color:#fe6600; font-size:22px">@compte.Solde.ToString("##,##.##")&nbsp;@compte.Devise</p>
                                    <p class="subtitle">@compte.Intitule</p>
                                </article>
                            </div>
                        }
                        break;
                    case "AIR":
                        {
                            <div class="tile is-parent">
                                <article class="tile is-child box">
                                    <p class="title" style="color:#e20613; font-size:22px">@compte.Solde.ToString("##,##.##")&nbsp;@compte.Devise</p>
                                    <p class="subtitle">@compte.Intitule</p>
                                </article>
                            </div>
                        }
                        break;
                    case "AFR":
                        {
                            <div class="tile is-parent">
                                <article class="tile is-child box">
                                    <p class="title" style="color:#87007b; font-size:22px">@compte.Solde.ToString("##,##.##")&nbsp;@compte.Devise</p>
                                    <p class="subtitle">@compte.Intitule</p>
                                </article>
                            </div>
                        }
                        break;
                }                
            }            
        }        
    </div>
</section>
<br />
<p class="subtitle has-text-centered has-text-success">Les comptes courants en Dollars (USD)</p>
<section class="info-tiles">
    <div class="tile is-ancestor has-text-centered">
        @* <div class="tile is-parent">
            <article class="tile is-child box">
                <p class="title" style="color:#e60000">439k</p>
                <p class="subtitle">Compte m-pesa</p>
            </article>
        </div>
        <div class="tile is-parent">
            <article class="tile is-child box">
                <p class="title" style="color:#fe6600">59k</p>
                <p class="subtitle">Compte Orange money</p>
            </article>
        </div>
        <div class="tile is-parent">
            <article class="tile is-child box">
                <p class="title" style="color:#e20613">3.4k</p>
                <p class="subtitle">Compte Airtel money</p>
            </article>
        </div>
        <div class="tile is-parent">
            <article class="tile is-child box">
                <p class="title" style="color:#87007b">19</p>
                <p class="subtitle">Compte Afrimoney</p>
            </article>
        </div> *@


        @foreach (var compte in Model.list_comptes)
        {
            @if (compte.Devise == "USD")
            {
                @switch (compte.CodeReseau)
                {
                    case "VDC":
                        {
                            <div class="tile is-parent">
                                <article class="tile is-child box">
                                    <p class="title" style="color:#e60000; font-size:22px">@compte.Solde.ToString("##,##.##")&nbsp;@compte.Devise</p>
                                    <p class="subtitle">@compte.Intitule</p>
                                </article>
                            </div>
                        }
                        break;
                    case "ORG":
                        {
                            <div class="tile is-parent">
                                <article class="tile is-child box">
                                    <p class="title" style="color:#fe6600; font-size:22px">@compte.Solde.ToString("##,##.##")&nbsp;@compte.Devise</p>
                                    <p class="subtitle">@compte.Intitule</p>
                                </article>
                            </div>
                        }
                        break;
                    case "AIR":
                        {
                            <div class="tile is-parent">
                                <article class="tile is-child box">
                                    <p class="title" style="color:#e20613; font-size:22px">@compte.Solde.ToString("##,##.##")&nbsp;@compte.Devise</p>
                                    <p class="subtitle">@compte.Intitule</p>
                                </article>
                            </div>
                        }
                        break;
                    case "AFR":
                        {
                            <div class="tile is-parent">
                                <article class="tile is-child box">
                                    <p class="title" style="color:#87007b; font-size:22px">@compte.Solde.ToString("##,##.##")&nbsp;@compte.Devise</p>
                                    <p class="subtitle">@compte.Intitule</p>
                                </article>
                            </div>
                        }
                        break;
                }
            }
        }
    </div>
</section>
<div class="columns">
    <div class="column is-6">
        <div class="card events-card">
            <header class="card-header">
                <p class="card-header-title">
                    Les derniers mouvements
                </p>
                <div class="card-header-icon" aria-label="more options">
                    <span class="icon">
                        <i class="fa fa-angle-down" aria-hidden="true"></i>
                    </span>
                </div>
            </header>
            <div class="card-table">
                <div class="content">
                    <table class="table is-fullwidth is-striped">
                        <tbody>
                            @foreach(var mvt in Model.GetDerniersMouvements())
                            {
                                <tr>
                                    <td>@mvt.NumMouvement</td>
                                    <td>@mvt.Designation</td>
                                    <td>@mvt.MontantAPayer</td>
                                    <td class="level-right"><a class="button is-small is-primary" href="#">Action</a></td>
                                </tr>
                            }                            
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
    @* <div class="column is-6">
        <div class="card">
            <header class="card-header">
                <p class="card-header-title">
                    Inventory Search
                </p>
                <a href="#" class="card-header-icon" aria-label="more options">
                    <span class="icon">
                        <i class="fa fa-angle-down" aria-hidden="true"></i>
                    </span>
                </a>
            </header>
            <div class="card-content">
                <div class="content">
                    <div class="control has-icons-left has-icons-right">
                        <input class="input is-large" type="text" placeholder="">
                        <span class="icon is-medium is-left">
                            <i class="fa fa-search"></i>
                        </span>
                        <span class="icon is-medium is-right">
                            <i class="fa fa-check"></i>
                        </span>
                    </div>
                </div>
            </div>
        </div>
        <div class="card">
            <header class="card-header">
                <p class="card-header-title">
                    User Search
                </p>
                <a href="#" class="card-header-icon" aria-label="more options">
                    <span class="icon">
                        <i class="fa fa-angle-down" aria-hidden="true"></i>
                    </span>
                </a>
            </header>
            <div class="card-content">
                <div class="content">
                    <div class="control has-icons-left has-icons-right">
                        <input class="input is-large" type="text" placeholder="">
                        <span class="icon is-medium is-left">
                            <i class="fa fa-search"></i>
                        </span>
                        <span class="icon is-medium is-right">
                            <i class="fa fa-check"></i>
                        </span>
                    </div>
                </div>
            </div>
        </div>
    </div> *@
</div>